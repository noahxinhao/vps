<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">
<!-- Generated by MyEclipse Hibernate Tools. -->
<hibernate-configuration>
    <session-factory>
        <property name="dialect">org.hibernate.dialect.MySQLDialect</property>
        <property name="connection.driver_class">com.mysql.jdbc.Driver</property>
        <!-- 172.16.8.82 -->
        <property name="connection.url">${hibernate.credit.url}</property>
        <property name="connection.username">${hibernate.credit.username}</property>
        <property name="connection.password">${hibernate.credit.password}</property>
        <!--数据库连接池的大小 20 -->
        <!-- <property name="hibernate.connection.pool.size">1 </property> -->
        <property name="connection.provider_class">org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider</property>
        <!-- c3p0.maxPoolSize 最大连接数 -->
        <property name="hibernate.c3p0.max_size">50</property>
        <!-- c3p0.minPoolSize 最小连接数 -->
        <property name="hibernate.c3p0.min_size">${hibernate.credit.min_size}</property>
        <!-- c3p0.maxIdleTime 定义 了连接因在多少秒内未被使用而被连接池剔除的时间 单位毫秒 -->
        <property name="hibernate.c3p0.timeout">1800</property>
        <!-- c3p0.maxStatements maxStatement 定义了每个数据源会缓存的 PreparedStatement 的总数
            不推荐开启 -->
        <property name="hibernate.c3p0.max_statements">0</property>
        <!-- c3p0.acquireIncrement当连接池里面的连接用完的时候，C3P0一下获取的新的连接数 -->
        <property name="hibernate.c3p0.acquire_increment">2</property>
        <!--c3p0.idleConnectionTestPeriod 每隔600秒检查连接池里的空闲连接 ，单位是秒 -->
        <property name="hibernate.c3p0.idle_test_period">180</property>

        <property name="hibernate.c3p0.automaticTestTable">Test</property>
        <!-- 覆盖 c3p0 参数 -->
        <!--定义在从数据库获取新连接失败后重复尝试的次数。Default: 30 -->
        <property name="hibernate.c3p0.acquireRetryAttempts">5</property>
        <!--连接失败后重复尝试的间隔时间，单位毫秒。Default: 1000 -->
        <property name="hibernate.c3p0.acquireRetryDelay">1000</property>
        <!--连接关闭时默认将所有未提交的操作回滚。,false 回滚,true commit Default: false -->
        <property name="hibernate.c3p0.autoCommitOnClose">false</property>
        <!-- unreturnedConnectionTimeout 池中取出的那些在超过这个限制时间的连接还没有返回池得话,就会被立刻销毁 -->
        <property name="hibernate.c3p0.unreturnedConnectionTimeout">180</property>
        <!-- debugUnreturnedConnectionStackTraces 设置 为 true 的话,你将可以得到那些从池中取出的连接的轨迹栈(stack
            trace) 。当有连接没有 按时返回池的时候,轨迹栈将会被打印出来,来揭示哪里有连接没有按时返回 -->
        <property name="hibernate.c3p0.debugUnreturnedConnectionStackTraces">true</property>
        <!-- checkoutTimeout 限制了客户端会为得到一个连接等待多久 -->
        <property name="hibernate.c3p0.checkoutTimeout">10000</property>


        <!-- JDBC 配置 -->
        <!-- -jdbc.fetch_size是指Hibernate每次从数据库中取出并放到JDBC的Statement中的记录条数.Fetch
            Size设的越大，读数据库的次数越少，速度越快， -->
        <!-- Fetch Size越小，读数据库的次数越多，速度越慢 -->
        <property name="jdbc.fetch_size">30 </property>
        <!--jdbc.batch_size是指Hibernate批量插入,删除和更新时每次操作的记录数。Batch Size越大，批量操作的向数据库发送Sql的次数越少，速度就越快，同样耗用内存就越大 -->
        <property name="jdbc.batch_size">30 </property>
        <!--jdbc.use_scrollable_resultset是否允许Hibernate用JDBC的可滚动的结果集。对分页的结果集。对分页时的设置非常有帮助 -->
        <property name="jdbc.use_scrollable_resultset">true </property>
        <!--connection.useUnicode连接数据库时是否使用Unicode编码 -->
        <property name="Connection.useUnicode">true </property>
        <!--connection.characterEncoding连接数据库时数据的传输字符集编码方式，最好设置为gbk,utf-8，用gb2312有的字符不全 -->
        <property name="connection.characterEncoding">utf-8 </property>
        <!-- 执行事务的方式 -->
        <!-- <property name="current_session_context_class">jta</property> -->
        <property name="current_session_context_class">thread</property>
        <!-- 事物隔离-防止查询出现缓存 Read Committed（读取提交内容） 1,2,4,8 -->
        <property name="hibernate.connection.isolation">2</property>
        <!-- 是否更新表 TODO 需要关闭! update false -->
        <!--property name="hibernate.hbm2ddl.auto">update</property>-->
        <property name="show_sql">true</property>
        <property name="format_sql">false</property>
        <property name="connection.autocommit">true</property>
    </session-factory>
</hibernate-configuration>